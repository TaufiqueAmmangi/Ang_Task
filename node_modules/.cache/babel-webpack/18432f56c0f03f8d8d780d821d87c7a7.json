{"ast":null,"code":"import _classCallCheck from \"E:/Piu/article_ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/Piu/article_ui/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Injectable } from '@angular/core';\nimport 'firebase/database';\nimport { FirebaseApp } from 'angularfire2';\nimport { getRef } from './utils';\nimport { createListReference } from './list/create-reference';\nimport { createObjectReference } from './object/create-reference';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'angularfire2';\nexport var AngularFireDatabase = /*#__PURE__*/function () {\n  function AngularFireDatabase(app) {\n    _classCallCheck(this, AngularFireDatabase);\n\n    this.app = app;\n    this.database = app.database();\n  }\n\n  _createClass(AngularFireDatabase, [{\n    key: \"list\",\n    value: function list(pathOrRef, queryFn) {\n      var ref = getRef(this.app, pathOrRef);\n      var query = ref;\n\n      if (queryFn) {\n        query = queryFn(ref);\n      }\n\n      return createListReference(query);\n    }\n  }, {\n    key: \"object\",\n    value: function object(pathOrRef) {\n      var ref = getRef(this.app, pathOrRef);\n      return createObjectReference(ref);\n    }\n  }, {\n    key: \"createPushId\",\n    value: function createPushId() {\n      return this.database.ref().push().key;\n    }\n  }]);\n\n  return AngularFireDatabase;\n}();\n\nAngularFireDatabase.ɵfac = function AngularFireDatabase_Factory(t) {\n  return new (t || AngularFireDatabase)(ɵngcc0.ɵɵinject(ɵngcc1.FirebaseApp));\n};\n\nAngularFireDatabase.ɵprov = ɵngcc0.ɵɵdefineInjectable({\n  token: AngularFireDatabase,\n  factory: AngularFireDatabase.ɵfac\n});\n\nAngularFireDatabase.ctorParameters = function () {\n  return [{\n    type: FirebaseApp\n  }];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(AngularFireDatabase, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ɵngcc1.FirebaseApp\n    }];\n  }, null);\n})();","map":{"version":3,"sources":["../../../../src/database/database.ts"],"names":[],"mappings":";;AAAA,SAAS,UAAT,QAA2B,eAA3B;AAEA,OAAO,mBAAP;AACA,SAAS,WAAT,QAA4B,cAA5B;AAEA,SAAS,MAAT,QAAuB,SAAvB;AACA,SAAS,mBAAT,QAAoC,yBAApC;AACA,SAAS,qBAAT,QAAsC,2BAAtC;;;AAGA,WAAM,mBAAN;AAGE,+BAAmB,GAAnB,EAAmC;AAAA;;AAAhB,SAAA,GAAA,GAAA,GAAA;AACjB,SAAK,QAAL,GAAgB,GAAG,CAAC,QAAJ,EAAhB;AACD;;AALH;AAAA;AAAA,yBAOU,SAPV,EAOoC,OAPpC,EAOqD;AACjD,UAAM,GAAG,GAAG,MAAM,CAAC,KAAK,GAAN,EAAW,SAAX,CAAlB;AACA,UAAI,KAAK,GAAkB,GAA3B;;AACA,UAAG,OAAH,EAAY;AACV,QAAA,KAAK,GAAG,OAAO,CAAC,GAAD,CAAf;AACD;;AACD,aAAO,mBAAmB,CAAI,KAAJ,CAA1B;AACD;AAdH;AAAA;AAAA,2BAgBY,SAhBZ,EAgBoC;AAChC,UAAM,GAAG,GAAG,MAAM,CAAC,KAAK,GAAN,EAAW,SAAX,CAAlB;AACA,aAAO,qBAAqB,CAAI,GAAJ,CAA5B;AACD;AAnBH;AAAA;AAAA,mCAqBc;AACV,aAAO,KAAK,QAAL,CAAc,GAAd,GAAoB,IAApB,GAA2B,GAAlC;AACD;AAvBH;;AAAA;AAAA;;oCADC,2B,CAAU,C,EAAA;AAAA,SAAA,KAAA,CAAA,IAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,WAAA,CAAA,CAAA;AAAA,C;;;;+BACR;;;AAAC,mBAAA,CAAA,cAAA,GAAA;AAAA,SAAA,CACU;AAAA,IAAA,IAAA,EARL;AAQK,GADV,CAAA;AAAA,CAAA;;;;;;;;;;;;AAPuB,C","sourcesContent":["import { Injectable } from '@angular/core';\nimport { database } from 'firebase/app';\nimport 'firebase/database';\nimport { FirebaseApp } from 'angularfire2';\nimport { PathReference, DatabaseQuery, DatabaseReference, DatabaseSnapshot, ChildEvent, ListenEvent, QueryFn, AngularFireList, AngularFireObject } from './interfaces';\nimport { getRef } from './utils';\nimport { createListReference } from './list/create-reference';\nimport { createObjectReference } from './object/create-reference';\n\n@Injectable()\nexport class AngularFireDatabase {\n  database: database.Database;\n\n  constructor(public app: FirebaseApp) {\n    this.database = app.database();\n  }\n\n  list<T>(pathOrRef: PathReference, queryFn?: QueryFn): AngularFireList<T> {\n    const ref = getRef(this.app, pathOrRef);\n    let query: DatabaseQuery = ref;\n    if(queryFn) {\n      query = queryFn(ref);\n    }\n    return createListReference<T>(query);\n  }\n\n  object<T>(pathOrRef: PathReference): AngularFireObject<T>  {\n    const ref = getRef(this.app, pathOrRef);\n    return createObjectReference<T>(ref);    \n  }\n\n  createPushId() {\n    return this.database.ref().push().key;\n  }\n\n}\n\nexport { \n  PathReference, \n  DatabaseQuery, \n  DatabaseReference, \n  DatabaseSnapshot, \n  ChildEvent, \n  ListenEvent, \n  QueryFn, \n  AngularFireList, \n  AngularFireObject,\n  AngularFireAction,\n  Action,\n  SnapshotAction\n} from './interfaces';\n "]},"metadata":{},"sourceType":"module"}