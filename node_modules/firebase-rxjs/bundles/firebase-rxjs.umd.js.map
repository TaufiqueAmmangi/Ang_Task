{"version":3,"file":"firebase-rxjs.umd.js","sources":["../src/user.js","../src/auth.js","../src/data-snapshot-observable.js","../src/database.js","../src/zone-helper.js","../src/app.js","../src/interfaces.js"],"sourcesContent":["import { map } from 'rxjs/operator/map';\nvar FirebaseUserCredential = (function () {\n    function FirebaseUserCredential(cred, app) {\n        this.credential = cred.credential || undefined;\n        this.user = cred.user ? new FirebaseUser(cred.user, app) : undefined;\n    }\n    return FirebaseUserCredential;\n}());\nexport { FirebaseUserCredential };\nvar FirebaseUser = (function () {\n    function FirebaseUser(user, app) {\n        this.user = user;\n        this.app = app;\n    }\n    Object.defineProperty(FirebaseUser.prototype, \"displayName\", {\n        get: function () {\n            return this.user.displayName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FirebaseUser.prototype, \"email\", {\n        get: function () {\n            return this.user.email;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FirebaseUser.prototype, \"emailVerified\", {\n        get: function () {\n            return this.user.emailVerified;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FirebaseUser.prototype, \"isAnonymous\", {\n        get: function () {\n            return this.user.isAnonymous;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FirebaseUser.prototype, \"photoURL\", {\n        get: function () {\n            return this.user.photoURL;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FirebaseUser.prototype, \"providerData\", {\n        get: function () {\n            return this.user.providerData;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FirebaseUser.prototype, \"providerId\", {\n        get: function () {\n            return this.user.providerId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FirebaseUser.prototype, \"refreshToken\", {\n        get: function () {\n            return this.user.refreshToken;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FirebaseUser.prototype, \"uid\", {\n        get: function () {\n            return this.user.uid;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @returns {Observable<void>} - Returns {@link DeleteUserError} if operation fails.\n     */\n    FirebaseUser.prototype.delete = function () {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.user.delete(); });\n    };\n    FirebaseUser.prototype.getToken = function (forceRefresh) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.user.getToken(forceRefresh); });\n    };\n    /**\n     * @returns {Observable<FirebaseUser>} - Returns {@link LinkUserError} if operation fails.\n     */\n    FirebaseUser.prototype.link = function (credential) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.user.link(credential); }), function (user) { return new FirebaseUser(user, _this.app); });\n    };\n    /**\n     * @returns {Observable<FirebaseUserCredential>} - Returns {@link LinkUserWithPopupError} if\n     *     operation fails.\n     */\n    FirebaseUser.prototype.linkWithPopup = function (provider) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.user.linkWithPopup(provider); }), function (cred) { return new FirebaseUserCredential(cred, _this.app); });\n    };\n    /**\n     * @returns {Observable<FirebaseUserCredential>} - Returns {@link LinkUserWithRedirectError} if\n     *     operation fails.\n     */\n    FirebaseUser.prototype.linkWithRedirect = function (provider) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.user.linkWithRedirect(provider); }), function (cred) { return new FirebaseUserCredential(cred, _this.app); });\n    };\n    /**\n     * @returns {Observable<void>} - Returns {@link ReauthenticateError} if operation\n     * fails.\n     */\n    FirebaseUser.prototype.reauthenticate = function (credential) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.user.reauthenticate(credential); });\n    };\n    FirebaseUser.prototype.reload = function () {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.user.reload(); });\n    };\n    FirebaseUser.prototype.sendEmailVerification = function () {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.user.sendEmailVerification(); });\n    };\n    FirebaseUser.prototype.unlink = function (providerId) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.user.unlink(providerId); }), function (user) { return new FirebaseUser(user, _this.app); });\n    };\n    /**\n     * @returns {Observable<void>} - Returns {@link UpdateEmailError} if operation\n     * fails.\n     */\n    FirebaseUser.prototype.updateEmail = function (newEmail) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.user.updateEmail(newEmail); });\n    };\n    /**\n     * @returns {Observable<void>} - Returns {@link UpdatePasswordError} if operation\n     * fails.\n     */\n    FirebaseUser.prototype.updatePassword = function (newPassword) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.user.updatePassword(newPassword); });\n    };\n    FirebaseUser.prototype.updateProfile = function (profile) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.user.updateProfile(profile); });\n    };\n    return FirebaseUser;\n}());\nexport { FirebaseUser };\n//# sourceMappingURL=user.js.map","import { map } from 'rxjs/operator/map';\nimport { FirebaseUser, FirebaseUserCredential } from './user';\nvar FirebaseAuth = (function () {\n    function FirebaseAuth(fbAuth, app) {\n        this.fbAuth = fbAuth;\n        this.app = app;\n    }\n    Object.defineProperty(FirebaseAuth.prototype, \"user\", {\n        /**\n         * Observable which emits when authorization state of the user changes.\n         */\n        get: function () {\n            var _this = this;\n            return map.call(this.app.zoneHelper.createObservable(function (observer) { return _this.fbAuth.onAuthStateChanged(observer); }), function (user) { return user ? new FirebaseUser(user, _this.app) : null; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param code\n     * @returns {Observable<void>} - Returns {@link ActionCodeError} if operation fails.\n     */\n    FirebaseAuth.prototype.applyActionCode = function (code) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.applyActionCode(code); });\n    };\n    /**\n     * @param code\n     * @returns {Observable<ActionCodeInfo>} - Returns {@link ActionCodeError} if operation fails.\n     */\n    FirebaseAuth.prototype.checkActionCode = function (code) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.checkActionCode(code); });\n    };\n    /**\n     * @param code\n     * @param newPassword\n     * @returns {Observable<void>} - Returns {@link ConfirmPasswordResetError} if operation fails.\n     */\n    FirebaseAuth.prototype.confirmPasswordReset = function (code, newPassword) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () {\n            return _this.fbAuth.confirmPasswordReset(code, newPassword);\n        });\n    };\n    /**\n     *\n     * @param email\n     * @param password\n     * @returns {Observable<FirebaseUser>} - Returns {@link CreateUserWithEmailAndPasswordError} if\n     *     operation fails.\n     */\n    FirebaseAuth.prototype.createUserWithEmailAndPassword = function (email, password) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () {\n            return _this.fbAuth.createUserWithEmailAndPassword(email, password);\n        }), function (user) { return new FirebaseUser(user, _this.app); });\n    };\n    /**\n     *\n     * @param email\n     * @returns {Observable<string[]>} - Returns {@link FetchProvidersForEmailError} if operation\n     *     fails.\n     */\n    FirebaseAuth.prototype.fetchProvidersForEmail = function (email) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.fetchProvidersForEmail(email); });\n    };\n    /**\n     * @returns {Observable<FirebaseUserCredential>} - Returns {@link GetRedirectResultError} if\n     *     operation fails.\n     */\n    FirebaseAuth.prototype.getRedirectResult = function () {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.getRedirectResult(); }), function (cred) { return new FirebaseUserCredential(cred, _this.app); });\n    };\n    /**\n     * @param email\n     * @returns {Observable<void>} - Returns {@link SendPasswordResetEmailError} if operation fails.\n     */\n    FirebaseAuth.prototype.sendPasswordResetEmail = function (email) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.sendPasswordResetEmail(email); });\n    };\n    /**\n     *\n     * @returns {Observable<FirebaseUser>} - Returns {@link SignInAnonymouslyError} if operation\n     *     fails.\n     */\n    FirebaseAuth.prototype.signInAnonymously = function () {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.signInAnonymously(); }), function (user) { return new FirebaseUser(user, _this.app); });\n    };\n    /**\n     * @param credential\n     * @returns {Observable<FirebaseUser>} - Returns {@link SignInWithCredentialError} if operation\n     *     fails.\n     */\n    FirebaseAuth.prototype.signInWithCredential = function (credential) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.signInWithCredential(credential); }), function (user) { return new FirebaseUser(user, _this.app); });\n    };\n    /**\n     * @param token\n     * @returns {Observable<FirebaseUser>} - Returns {@link SignInWithCustomTokenError} if operation\n     *     fails.\n     */\n    FirebaseAuth.prototype.signInWithCustomToken = function (token) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.signInWithCustomToken(token); }), function (user) { return new FirebaseUser(user, _this.app); });\n    };\n    /**\n     * @param email\n     * @param password\n     * @returns {Observable<FirebaseUser>} - Returns {@link SignInWithEmailAndPasswordError} if\n     *     operation fails.\n     */\n    FirebaseAuth.prototype.signInWithEmailAndPassword = function (email, password) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () {\n            return _this.fbAuth.signInWithEmailAndPassword(email, password);\n        }), function (user) { return new FirebaseUser(user, _this.app); });\n    };\n    /**\n     * @param provider\n     * @returns {Observable<FirebaseUser>} - Returns {@link SignInWithPopupError} if operation fails.\n     */\n    FirebaseAuth.prototype.signInWithPopup = function (provider) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.signInWithPopup(provider); }), function (cred) { return new FirebaseUserCredential(cred, _this.app); });\n    };\n    /**\n     * @param provider\n     * @returns {Observable<FirebaseUser>} - Returns {@link SignInWithRedirectError} if operation\n     *     fails.\n     */\n    FirebaseAuth.prototype.signInWithRedirect = function (provider) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.signInWithRedirect(provider); }), function (cred) { return new FirebaseUserCredential(cred, _this.app); });\n    };\n    FirebaseAuth.prototype.signOut = function () {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.signOut(); });\n    };\n    /**\n     *\n     * @param code\n     * @returns {Observable<string>} - Returns {@link VerifyPasswordResetCodeError} if operation\n     * fails.\n     */\n    FirebaseAuth.prototype.verifyPasswordResetCode = function (code) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this.fbAuth.verifyPasswordResetCode(code); });\n    };\n    return FirebaseAuth;\n}());\nexport { FirebaseAuth };\n//# sourceMappingURL=auth.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Observable } from 'rxjs/Observable';\nimport { map } from 'rxjs/operator/map';\nimport { mergeMap } from 'rxjs/operator/mergeMap';\nimport { toArray } from 'rxjs/operator/toArray';\nexport function makeDataSnapshotObservable(observable) {\n    return new DataSnapshotObservable(function (subscriber) {\n        var sub = observable.subscribe(subscriber);\n        return function () { return sub.unsubscribe(); };\n    });\n}\nvar DataSnapshotObservable = (function (_super) {\n    __extends(DataSnapshotObservable, _super);\n    function DataSnapshotObservable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DataSnapshotObservable.prototype.exists = function () {\n        return map.call(this, function (snapshot) { return snapshot.exists(); });\n    };\n    DataSnapshotObservable.prototype.children = function () {\n        return map.call(this, function (snapshot) { return new DataSnapshotObservable(function (sub) {\n            snapshot.forEach(function (childSnapshot) {\n                sub.next(childSnapshot);\n                return false;\n            });\n            sub.complete();\n        }); });\n    };\n    /**\n     * This operator takes the result of .val() for all children of the snapshot and emits\n     * them as an array.\n     * Contents of source snapshot:\n     * ```\n     * {\n     *  childA: { prop: 'Hello' },\n     *  childB: { prop: 'World!' },\n     * }\n     * ```\n     * Result of operator:\n     * ```\n     * [\n     *  { prop: 'Hello' },\n     *  { prop: 'World!' },\n     * ]\n     * ```\n     * @returns {Observable<C[]>}\n     */\n    DataSnapshotObservable.prototype.toValArray = function () {\n        return mergeMap.call(this.children(), function (children) { return toArray.call(children.val()); });\n    };\n    DataSnapshotObservable.prototype.values = function () {\n        return this.toValArray();\n    };\n    DataSnapshotObservable.prototype.keys = function () {\n        return mergeMap.call(this.children(), function (children) { return toArray.call(children.key()); });\n    };\n    DataSnapshotObservable.prototype.list = function () {\n        return mergeMap.call(this.children(), function (children) { return toArray.call(children.entry()); });\n    };\n    DataSnapshotObservable.prototype.entry = function () {\n        return map.call(this, function (snapshot) { return ({ val: snapshot.val(), key: snapshot.key }); });\n    };\n    DataSnapshotObservable.prototype.key = function () {\n        return map.call(this, function (snapshot) { return snapshot.key; });\n    };\n    /**\n     * When listening to events such as {@link Event.ChildMoved} the snapshot includes\n     * the key of the child before this snapshots one. This operator maps to this key.\n     * @returns {Observable<string>}\n     */\n    DataSnapshotObservable.prototype.prevKey = function () {\n        return map.call(this, function (snapshot) { return snapshot.prevKey; });\n    };\n    DataSnapshotObservable.prototype.val = function () {\n        return map.call(this, function (snapshot) { return snapshot.val(); });\n    };\n    DataSnapshotObservable.prototype.getPriority = function () {\n        return map.call(this, function (snapshot) { return snapshot.getPriority(); });\n    };\n    DataSnapshotObservable.prototype.exportVal = function () {\n        return map.call(this, function (snapshot) { return snapshot.exportVal(); });\n    };\n    DataSnapshotObservable.prototype.hasChild = function (path) {\n        return map.call(this, function (snapshot) { return snapshot.hasChild(path); });\n    };\n    DataSnapshotObservable.prototype.hasChildren = function () {\n        return map.call(this, function (snapshot) { return snapshot.hasChildren(); });\n    };\n    DataSnapshotObservable.prototype.numChildren = function () {\n        return map.call(this, function (snapshot) { return snapshot.numChildren(); });\n    };\n    DataSnapshotObservable.prototype.child = function (path) {\n        var _this = this;\n        return new DataSnapshotObservable(function (sub) {\n            var subscription = map.call(_this, function (snapshot) { return snapshot.child(path); })\n                .subscribe(sub);\n            return function () { return subscription.unsubscribe(); };\n        });\n    };\n    return DataSnapshotObservable;\n}(Observable));\nexport { DataSnapshotObservable };\n//# sourceMappingURL=data-snapshot-observable.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { database } from 'firebase';\nimport { of } from 'rxjs/observable/of';\nimport { map } from 'rxjs/operator/map';\nimport { mapTo } from 'rxjs/operator/mapTo';\nimport { makeDataSnapshotObservable } from './data-snapshot-observable';\n/**\n * Enum of event types.\n */\nvar Event = (function () {\n    function Event() {\n    }\n    return Event;\n}());\nexport { Event };\nEvent.Value = 'value';\nEvent.ChildAdded = 'child_added';\nEvent.ChildChanged = 'child_changed';\nEvent.ChildRemoved = 'child_removed';\nEvent.ChildMoved = 'child_moved';\nvar FirebaseQuery = (function () {\n    function FirebaseQuery(_ref, app) {\n        this._ref = _ref;\n        this.app = app;\n    }\n    Object.defineProperty(FirebaseQuery.prototype, \"ref\", {\n        get: function () {\n            return this.wrappedRef;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FirebaseQuery.prototype.orderByChild = function (child) {\n        this._call('orderByChild', child);\n        return this;\n    };\n    FirebaseQuery.prototype.orderByKey = function () {\n        this._call('orderByKey');\n        return this;\n    };\n    FirebaseQuery.prototype.orderByPriority = function () {\n        this._call('orderByPriority');\n        return this;\n    };\n    FirebaseQuery.prototype.orderByValue = function () {\n        this._call('orderByValue');\n        return this;\n    };\n    FirebaseQuery.prototype.startAt = function (value, key) {\n        this._call('startAt', value, key);\n        return this;\n    };\n    FirebaseQuery.prototype.endAt = function (value, key) {\n        this._call('endAt', value, key);\n        return this;\n    };\n    FirebaseQuery.prototype.equalTo = function (value, key) {\n        this._call('equalTo', value, key);\n        return this;\n    };\n    FirebaseQuery.prototype.limitToFirst = function (limit) {\n        this._call('limitToFirst', limit);\n        return this;\n    };\n    FirebaseQuery.prototype.limitToLast = function (limit) {\n        this._call('limitToLast', limit);\n        return this;\n    };\n    FirebaseQuery.prototype.once = function (event) {\n        return makeDataSnapshotObservable(this._once(event));\n    };\n    FirebaseQuery.prototype.onceValue = function () {\n        return this.once('value');\n    };\n    FirebaseQuery.prototype.onceChildAdded = function () {\n        return this.once('child_added');\n    };\n    FirebaseQuery.prototype.onceChildChanged = function () {\n        return this.once('child_changed');\n    };\n    FirebaseQuery.prototype.onceChildMoved = function () {\n        return this.once('child_moved');\n    };\n    FirebaseQuery.prototype.onceChildRemoved = function () {\n        return this.once('child_removed');\n    };\n    FirebaseQuery.prototype.on = function (event) {\n        return makeDataSnapshotObservable(this._on(event));\n    };\n    FirebaseQuery.prototype.onValue = function () {\n        return this.on('value');\n    };\n    FirebaseQuery.prototype.onChildAdded = function () {\n        return this.on('child_added');\n    };\n    FirebaseQuery.prototype.onChildChanged = function () {\n        return this.on('child_changed');\n    };\n    FirebaseQuery.prototype.onChildMoved = function () {\n        return this.on('child_moved');\n    };\n    FirebaseQuery.prototype.onChildRemoved = function () {\n        return this.on('child_removed');\n    };\n    FirebaseQuery.prototype.isEqual = function (query) {\n        return this.getQueryOrRef().isEqual(query.getQueryOrRef());\n    };\n    FirebaseQuery.prototype._once = function (event) {\n        var _this = this;\n        return map.call(this.app.zoneHelper.wrapPromise(function () { return _this.getQueryOrRef().once(event); }), function (nativeSnapshot) { return _this.makeDataSnapshot(nativeSnapshot); });\n    };\n    FirebaseQuery.prototype._on = function (event) {\n        var _this = this;\n        return this.app.zoneHelper.createObservable(function (sub) {\n            var cb = _this.getQueryOrRef().on(event, _this.getEventHandler(sub), function (err) { return sub.error(err); });\n            return function () { return _this.getQueryOrRef().off(event, cb); };\n        });\n    };\n    FirebaseQuery.prototype.makeDataSnapshot = function (snapshot, prevKey) {\n        var _this = this;\n        if (typeof prevKey !== 'undefined') {\n            snapshot.prevKey = prevKey;\n        }\n        Object.defineProperty(snapshot, 'ref', {\n            get: function () { return _this; }\n        });\n        return snapshot;\n    };\n    FirebaseQuery.prototype.getEventHandler = function (sub, complete) {\n        var _this = this;\n        return function (snapshot, prevKey) {\n            sub.next(_this.makeDataSnapshot(snapshot, prevKey));\n            if (complete) {\n                sub.complete();\n            }\n        };\n    };\n    FirebaseQuery.prototype.getQueryOrRef = function () {\n        if (this.query) {\n            return this.query;\n        }\n        return this._ref;\n    };\n    FirebaseQuery.prototype._call = function (fnName) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        this.app.zoneHelper.runInFirebase(function () {\n            if (_this.query) {\n                _this.query = (_a = _this.query)[fnName].apply(_a, args);\n            }\n            else {\n                _this.query = (_b = _this._ref)[fnName].apply(_b, args);\n            }\n            var _a, _b;\n        });\n    };\n    return FirebaseQuery;\n}());\nexport { FirebaseQuery };\nvar FirebaseDatabaseRef = (function (_super) {\n    __extends(FirebaseDatabaseRef, _super);\n    function FirebaseDatabaseRef(parent, ref, app) {\n        var _this = _super.call(this, ref, app) || this;\n        _this.parent = parent;\n        _this.wrappedRef = _this;\n        return _this;\n    }\n    Object.defineProperty(FirebaseDatabaseRef.prototype, \"key\", {\n        get: function () {\n            return this._ref.key;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FirebaseDatabaseRef.prototype.child = function (path) {\n        return new FirebaseDatabaseRef(this, this._ref.child(path), this.app);\n    };\n    FirebaseDatabaseRef.prototype.set = function (value) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this._ref.set(value); });\n    };\n    FirebaseDatabaseRef.prototype.setPriority = function (priority) {\n        var _this = this;\n        // There seems to be a bug with the typing for #setPriority(priority, onComplete): Promise\n        // The firebase library, in every other case, declares the onComplete function optional since a\n        // Promise is returned as well.\n        return this.app.zoneHelper.wrapPromise(function () { return _this._ref.setPriority(priority); });\n    };\n    FirebaseDatabaseRef.prototype.setWithPriority = function (newVal, priority) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this._ref.setWithPriority(newVal, priority); });\n    };\n    FirebaseDatabaseRef.prototype.push = function (value) {\n        var pushRef = this._ref.push(value);\n        var ref = new FirebaseDatabaseRef(this, pushRef, this.app);\n        // Only if a value to push was given, use ref as promise, since otherwise\n        // pushRef.then will be undefined\n        if (value) {\n            return mapTo.call(this.app.zoneHelper.wrapPromise(function () { return pushRef; }), ref);\n        }\n        return of(ref);\n    };\n    FirebaseDatabaseRef.prototype.update = function (value) {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this._ref.update(value); });\n    };\n    FirebaseDatabaseRef.prototype.remove = function () {\n        var _this = this;\n        return this.app.zoneHelper.wrapPromise(function () { return _this._ref.remove(); });\n    };\n    FirebaseDatabaseRef.prototype.transaction = function (transactionHandler, applyLocally) {\n        var _this = this;\n        if (Zone) {\n            transactionHandler = this.app.zoneHelper.wrap(transactionHandler, 'firebaseRxJS.transaction');\n        }\n        return this.app.zoneHelper.wrapPromise(function () { return new Promise(function (resolve, reject) { return _this._ref.transaction(transactionHandler, function (err, committed, snapshot) {\n            return err ? reject(err) : resolve({\n                committed: committed,\n                snapshot: _this.makeDataSnapshot(snapshot)\n            });\n        }, applyLocally); }); });\n    };\n    return FirebaseDatabaseRef;\n}(FirebaseQuery));\nexport { FirebaseDatabaseRef };\n/**\n * A special object with information about the connection between client and server which can be\n * accessed by using `db.ref('.info')`.\n */\nvar InfoSchema = (function () {\n    function InfoSchema() {\n    }\n    return InfoSchema;\n}());\nexport { InfoSchema };\nvar FirebaseDatabase = (function () {\n    function FirebaseDatabase(db, app) {\n        this.db = db;\n        this.app = app;\n    }\n    FirebaseDatabase.prototype.ref = function (path) {\n        return new FirebaseDatabaseRef(null, this.db.ref(path), this.app);\n    };\n    return FirebaseDatabase;\n}());\nexport { FirebaseDatabase };\n/**\n * A collection of special constants which can be used when writing data. Their values will be\n * substituted on the server with server generated values.\n * E.g {@link FirebaseDatabase.ServerValue.TIMESTAMP} will be substituted for the server time\n * when committing a write.\n */\nFirebaseDatabase.ServerValue = database.ServerValue;\n//# sourceMappingURL=database.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Observable } from 'rxjs/Observable';\nimport { fromPromise } from 'rxjs/observable/fromPromise';\nimport { Subscriber } from 'rxjs/Subscriber';\nvar ZoneHelper = (function () {\n    function ZoneHelper(firebaseZone) {\n        this.firebaseZone = firebaseZone;\n        if (!firebaseZone) {\n            if (typeof Zone !== 'undefined') {\n                this.firebaseZone = Zone.root.fork({ name: 'firebase' });\n            }\n        }\n    }\n    ZoneHelper.prototype.wrap = function (callback, source) {\n        if (this.firebaseZone) {\n            return this.firebaseZone.wrap(callback, source);\n        }\n        return callback;\n    };\n    ZoneHelper.prototype.runInFirebase = function (fn) {\n        if (this.firebaseZone) {\n            return this.firebaseZone.run(fn);\n        }\n        return fn();\n    };\n    ZoneHelper.prototype.wrapSubscribe = function (fn) {\n        if (this.firebaseZone) {\n            return this.firebaseZone.wrap(fn, 'firebaseRxJS.Observable.subscribe');\n        }\n        return fn;\n    };\n    ZoneHelper.prototype.wrapPromise = function (promiseFactory) {\n        var _this = this;\n        if (typeof Zone === 'undefined') {\n            return fromPromise(this.runInFirebase(promiseFactory));\n        }\n        return new Observable(function (subscriber) {\n            Zone.current.scheduleMacroTask('firebaseRxJS.Promise', function (err, res) {\n                if (err) {\n                    subscriber.error(err);\n                }\n                else {\n                    subscriber.next(res);\n                    subscriber.complete();\n                }\n            }, {}, function (task) {\n                var promise = _this.runInFirebase(promiseFactory);\n                promise.then(task.invoke.bind(task, null), task.invoke.bind(task));\n            }, function (task) { });\n        });\n    };\n    ZoneHelper.prototype.createObservable = function (subscribe) {\n        var obs = new Observable(this.wrapSubscribe(subscribe));\n        if (typeof Zone === 'undefined') {\n            return obs;\n        }\n        return obs.lift(new EventTaskOperator());\n    };\n    return ZoneHelper;\n}());\nexport { ZoneHelper };\nvar EventTaskOperator = (function () {\n    function EventTaskOperator() {\n    }\n    EventTaskOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new EventTaskSubscriber(subscriber, Zone.current));\n    };\n    return EventTaskOperator;\n}());\nvar EventTaskSubscriber = (function (_super) {\n    __extends(EventTaskSubscriber, _super);\n    function EventTaskSubscriber(destination, zone) {\n        var _this = _super.call(this, destination) || this;\n        _this.zone = zone;\n        _this.nextTask = _this.zone.scheduleEventTask('firebaseRxJS.Observable.next', function (val) { return _this.destination.next(val); }, {}, function () { }, function () { });\n        _this.add(function () { return _this.zone.cancelTask(_this.nextTask); });\n        return _this;\n    }\n    EventTaskSubscriber.prototype._next = function (value) {\n        var nextTask = this.nextTask;\n        this.zone.run(nextTask.invoke, nextTask, [value]);\n    };\n    EventTaskSubscriber.prototype._error = function (err) {\n        var destination = this.destination;\n        this.zone.scheduleMicroTask('firebaseRxJS.Observable.error', destination.error.bind(destination, err));\n    };\n    EventTaskSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        this.zone.scheduleMicroTask('firebaseRxJS.Observable.complete', destination.complete.bind(destination));\n    };\n    return EventTaskSubscriber;\n}(Subscriber));\n//# sourceMappingURL=zone-helper.js.map","import * as firebase from 'firebase';\nimport { FirebaseAuth } from './auth';\nimport { FirebaseDatabase } from './database';\nimport { ZoneHelper } from './zone-helper';\nvar lastAppId = 0;\nvar FirebaseApp = (function () {\n    function FirebaseApp(config, _a) {\n        var firebaseZone = (_a === void 0 ? {} : _a).firebaseZone;\n        this.config = config;\n        config.name = config.name || \"app-\" + lastAppId++;\n        this.zoneHelper = new ZoneHelper(firebaseZone);\n        this.nativeApp = this.zoneHelper.runInFirebase(function () {\n            return firebase.initializeApp(config.options, config.name);\n        });\n    }\n    FirebaseApp.prototype.delete = function () {\n        var _this = this;\n        return this.zoneHelper.wrapPromise(function () { return _this.nativeApp.delete(); });\n    };\n    /**\n     * Get the with this {@link FirebaseApp} associated {@link FirebaseAuth} instance.\n     */\n    FirebaseApp.prototype.auth = function () {\n        var _this = this;\n        if (!this._auth) {\n            this._auth =\n                new FirebaseAuth(this.zoneHelper.runInFirebase(function () { return _this.nativeApp.auth(); }), this);\n        }\n        return this._auth;\n    };\n    /**\n     * Get the with this {@link FirebaseApp} associated {@link FirebaseDatabase}.\n     *\n     * The type parameter T is used to supply the schema of your database. If you do not want to\n     * use one set it to `any`. Using a schema provides type safety when accessing the database.\n     */\n    FirebaseApp.prototype.database = function () {\n        var _this = this;\n        if (!this._database) {\n            this._database =\n                new FirebaseDatabase(this.zoneHelper.runInFirebase(function () { return _this.nativeApp.database(); }), this);\n        }\n        return this._database;\n    };\n    return FirebaseApp;\n}());\nexport { FirebaseApp };\n//# sourceMappingURL=app.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { auth } from 'firebase';\nvar GoogleAuthProvider = (function (_super) {\n    __extends(GoogleAuthProvider, _super);\n    function GoogleAuthProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return GoogleAuthProvider;\n}(auth.GoogleAuthProvider));\nexport { GoogleAuthProvider };\nvar FacebookAuthProvider = (function (_super) {\n    __extends(FacebookAuthProvider, _super);\n    function FacebookAuthProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return FacebookAuthProvider;\n}(auth.FacebookAuthProvider));\nexport { FacebookAuthProvider };\nvar GithubAuthProvider = (function (_super) {\n    __extends(GithubAuthProvider, _super);\n    function GithubAuthProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return GithubAuthProvider;\n}(auth.GithubAuthProvider));\nexport { GithubAuthProvider };\nvar EmailAuthProvider = (function (_super) {\n    __extends(EmailAuthProvider, _super);\n    function EmailAuthProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return EmailAuthProvider;\n}(auth.EmailAuthProvider));\nexport { EmailAuthProvider };\nvar TwitterAuthProvider = (function (_super) {\n    __extends(TwitterAuthProvider, _super);\n    function TwitterAuthProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return TwitterAuthProvider;\n}(auth.TwitterAuthProvider));\nexport { TwitterAuthProvider };\n//# sourceMappingURL=interfaces.js.map"],"names":["map","__extends","this","mergeMap","toArray","Observable","mapTo","of","database","fromPromise","Subscriber","firebase.initializeApp","auth"],"mappings":";;;;;;AACA,IAAI,sBAAsB,IAAI,YAAY;IACtC,SAAS,sBAAsB,CAAC,IAAI,EAAE,GAAG,EAAE;QACvC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,SAAS,CAAC;QAC/C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,SAAS,CAAC;KACxE;IACD,OAAO,sBAAsB,CAAC;CACjC,EAAE,CAAC,CAAC;AACL,AACA,IAAI,YAAY,IAAI,YAAY;IAC5B,SAAS,YAAY,CAAC,IAAI,EAAE,GAAG,EAAE;QAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;KAClB;IACD,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,aAAa,EAAE;QACzD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;SAChC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,EAAE;QACnD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;SAC1B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,eAAe,EAAE;QAC3D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;SAClC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,aAAa,EAAE;QACzD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;SAChC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,UAAU,EAAE;QACtD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;SAC7B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,cAAc,EAAE;QAC1D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;SACjC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,YAAY,EAAE;QACxD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;SAC/B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,cAAc,EAAE;QAC1D,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;SACjC;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,KAAK,EAAE;QACjD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;SACxB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;;;;IAIH,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACxC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;KACvF,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,YAAY,EAAE;QACtD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC;KACrG,CAAC;;;;IAIF,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE;QAChD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KACxK,CAAC;;;;;IAKF,YAAY,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,QAAQ,EAAE;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,sBAAsB,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KACzL,CAAC;;;;;IAKF,YAAY,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE;QAC1D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,sBAAsB,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KAC5L,CAAC;;;;;IAKF,YAAY,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,UAAU,EAAE;QAC1D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;KACzG,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACxC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;KACvF,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;QACvD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,EAAE,CAAC,CAAC;KACtG,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,UAAU,EAAE;QAClD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KAC1K,CAAC;;;;;IAKF,YAAY,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,QAAQ,EAAE;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;KACpG,CAAC;;;;;IAKF,YAAY,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,WAAW,EAAE;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;KAC1G,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,OAAO,EAAE;QACtD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;KACrG,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC,AACL,AAAwB,AACxB;;ACxJA,IAAI,YAAY,IAAI,YAAY;IAC5B,SAAS,YAAY,CAAC,MAAM,EAAE,GAAG,EAAE;QAC/B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;KAClB;IACD,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,EAAE;;;;QAIlD,GAAG,EAAE,YAAY;YACb,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,QAAQ,EAAE,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,GAAG,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;SACjN;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;;;;;IAKH,YAAY,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,IAAI,EAAE;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;KACtG,CAAC;;;;;IAKF,YAAY,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,IAAI,EAAE;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;KACtG,CAAC;;;;;;IAMF,YAAY,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,IAAI,EAAE,WAAW,EAAE;QACvE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY;YAC/C,OAAO,KAAK,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;SAC/D,CAAC,CAAC;KACN,CAAC;;;;;;;;IAQF,YAAY,CAAC,SAAS,CAAC,8BAA8B,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;QAC/E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY;YACxD,OAAO,KAAK,CAAC,MAAM,CAAC,8BAA8B,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;SACvE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KACtE,CAAC;;;;;;;IAOF,YAAY,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,KAAK,EAAE;QAC7D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;KAC9G,CAAC;;;;;IAKF,YAAY,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACnD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,sBAAsB,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KACvL,CAAC;;;;;IAKF,YAAY,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,KAAK,EAAE;QAC7D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;KAC9G,CAAC;;;;;;IAMF,YAAY,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;QACnD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KAC7K,CAAC;;;;;;IAMF,YAAY,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,UAAU,EAAE;QAChE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KAC1L,CAAC;;;;;;IAMF,YAAY,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,KAAK,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KACtL,CAAC;;;;;;;IAOF,YAAY,CAAC,SAAS,CAAC,0BAA0B,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;QAC3E,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY;YACxD,OAAO,KAAK,CAAC,MAAM,CAAC,0BAA0B,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;SACnE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KACtE,CAAC;;;;;IAKF,YAAY,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,QAAQ,EAAE;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,sBAAsB,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KAC7L,CAAC;;;;;;IAMF,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,QAAQ,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,IAAI,sBAAsB,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KAChM,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;KAC1F,CAAC;;;;;;;IAOF,YAAY,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,IAAI,EAAE;QAC7D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,MAAM,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;KAC9G,CAAC;IACF,OAAO,YAAY,CAAC;CACvB,EAAE,CAAC,CAAC,AACL,AAAwB,AACxB;;AC7JA,IAAIC,WAAS,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AACA,AACA,AACA,AACA,AAAO,SAAS,0BAA0B,CAAC,UAAU,EAAE;IACnD,OAAO,IAAI,sBAAsB,CAAC,UAAU,UAAU,EAAE;QACpD,IAAI,GAAG,GAAG,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QAC3C,OAAO,YAAY,EAAE,OAAO,GAAG,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC;KACpD,CAAC,CAAC;CACN;AACD,IAAI,sBAAsB,IAAI,UAAU,MAAM,EAAE;IAC5CD,WAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS,sBAAsB,GAAG;QAC9B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,sBAAsB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAClD,OAAOD,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;KAC5E,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACpD,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,IAAI,sBAAsB,CAAC,UAAU,GAAG,EAAE;YACzF,QAAQ,CAAC,OAAO,CAAC,UAAU,aAAa,EAAE;gBACtC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBACxB,OAAO,KAAK,CAAC;aAChB,CAAC,CAAC;YACH,GAAG,CAAC,QAAQ,EAAE,CAAC;SAClB,CAAC,CAAC,EAAE,CAAC,CAAC;KACV,CAAC;;;;;;;;;;;;;;;;;;;;IAoBF,sBAAsB,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QACtD,OAAOG,+BAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAOC,6BAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;KACvG,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAClD,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC;KAC5B,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAChD,OAAOD,+BAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAOC,6BAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;KACvG,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QAChD,OAAOD,+BAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAOC,6BAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;KACzG,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;QACjD,OAAOJ,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;KACvG,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;QAC/C,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;KACvE,CAAC;;;;;;IAMF,sBAAsB,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QACnD,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;KAC3E,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;QAC/C,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;KACzE,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACvD,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;KACjF,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QACrD,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;KAC/E,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE;QACxD,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;KAClF,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACvD,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;KACjF,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;QACvD,OAAOA,qBAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;KACjF,CAAC;IACF,sBAAsB,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE;QACrD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,sBAAsB,CAAC,UAAU,GAAG,EAAE;YAC7C,IAAI,YAAY,GAAGA,qBAAG,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE,EAAE,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC;iBACnF,SAAS,CAAC,GAAG,CAAC,CAAC;YACpB,OAAO,YAAY,EAAE,OAAO,YAAY,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC;SAC7D,CAAC,CAAC;KACN,CAAC;IACF,OAAO,sBAAsB,CAAC;CACjC,CAACK,0BAAU,CAAC,CAAC,CAAC,AACf,AAAkC,AAClC;;AC/GA,IAAI,SAAS,GAAG,CAACH,IAAI,IAAIA,IAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AACA,AACA,AACA,AACA,AACA;;;AAGA,IAAI,KAAK,IAAI,YAAY;IACrB,SAAS,KAAK,GAAG;KAChB;IACD,OAAO,KAAK,CAAC;CAChB,EAAE,CAAC,CAAC;AACL,AACA,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;AACtB,KAAK,CAAC,UAAU,GAAG,aAAa,CAAC;AACjC,KAAK,CAAC,YAAY,GAAG,eAAe,CAAC;AACrC,KAAK,CAAC,YAAY,GAAG,eAAe,CAAC;AACrC,KAAK,CAAC,UAAU,GAAG,aAAa,CAAC;AACjC,IAAI,aAAa,IAAI,YAAY;IAC7B,SAAS,aAAa,CAAC,IAAI,EAAE,GAAG,EAAE;QAC9B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;KAClB;IACD,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,KAAK,EAAE;QAClD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,UAAU,CAAC;SAC1B;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;QACpD,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;QAC7C,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;QAClD,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;QAC9B,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC/C,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;QAC3B,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE;QACpD,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE;QAClD,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;QAChC,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE;QACpD,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;QACpD,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;QACnD,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;QACjC,OAAO,IAAI,CAAC;KACf,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;QAC5C,OAAO,0BAA0B,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;KACxD,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAC5C,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC7B,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KACnC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACnD,OAAO,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KACrC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KACnC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;QACnD,OAAO,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KACrC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,EAAE,GAAG,UAAU,KAAK,EAAE;QAC1C,OAAO,0BAA0B,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;KACtD,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;QAC1C,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;KAC3B,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC/C,OAAO,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;KACjC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;KACnC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;QAC/C,OAAO,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;KACjC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;QACjD,OAAO,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;KACnC,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;QAC/C,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,CAAC;KAC9D,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;QAC7C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAOF,qBAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,cAAc,EAAE,EAAE,OAAO,KAAK,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC;KAC7L,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,KAAK,EAAE;QAC3C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,GAAG,EAAE;YACvD,IAAI,EAAE,GAAG,KAAK,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,EAAE,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;YAChH,OAAO,YAAY,EAAE,OAAO,KAAK,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC;SACvE,CAAC,CAAC;KACN,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE,OAAO,EAAE;QACpE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;YAChC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;SAC9B;QACD,MAAM,CAAC,cAAc,CAAC,QAAQ,EAAE,KAAK,EAAE;YACnC,GAAG,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,EAAE;SACrC,CAAC,CAAC;QACH,OAAO,QAAQ,CAAC;KACnB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,GAAG,EAAE,QAAQ,EAAE;QAC/D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,UAAU,QAAQ,EAAE,OAAO,EAAE;YAChC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC;YACpD,IAAI,QAAQ,EAAE;gBACV,GAAG,CAAC,QAAQ,EAAE,CAAC;aAClB;SACJ,CAAC;KACL,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;QAChD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,OAAO,IAAI,CAAC,KAAK,CAAC;SACrB;QACD,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB,CAAC;IACF,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;QAC9C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;YAC1C,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;SAChC;QACD,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY;YAC1C,IAAI,KAAK,CAAC,KAAK,EAAE;gBACb,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE,GAAG,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;aAC5D;iBACI;gBACD,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE,GAAG,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;aAC3D;YACD,IAAI,EAAE,EAAE,EAAE,CAAC;SACd,CAAC,CAAC;KACN,CAAC;IACF,OAAO,aAAa,CAAC;CACxB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,mBAAmB,IAAI,UAAU,MAAM,EAAE;IACzC,SAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE;QAC3C,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC;QAChD,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QACzB,OAAO,KAAK,CAAC;KAChB;IACD,MAAM,CAAC,cAAc,CAAC,mBAAmB,CAAC,SAAS,EAAE,KAAK,EAAE;QACxD,GAAG,EAAE,YAAY;YACb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;SACxB;QACD,UAAU,EAAE,IAAI;QAChB,YAAY,EAAE,IAAI;KACrB,CAAC,CAAC;IACH,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,IAAI,EAAE;QAClD,OAAO,IAAI,mBAAmB,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;KACzE,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,KAAK,EAAE;QACjD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;KACzF,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,QAAQ,EAAE;QAC5D,IAAI,KAAK,GAAG,IAAI,CAAC;;;;QAIjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;KACpG,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,MAAM,EAAE,QAAQ,EAAE;QACxE,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;KAChH,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;QAClD,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpC,IAAI,GAAG,GAAG,IAAI,mBAAmB,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;;;QAG3D,IAAI,KAAK,EAAE;YACP,OAAOM,yBAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,OAAO,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;SAC5F;QACD,OAAOC,qBAAE,CAAC,GAAG,CAAC,CAAC;KAClB,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;KAC5F,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QAC/C,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;KACvF,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,kBAAkB,EAAE,YAAY,EAAE;QACpF,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,IAAI,EAAE;YACN,kBAAkB,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,EAAE,0BAA0B,CAAC,CAAC;SACjG;QACD,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,UAAU,GAAG,EAAE,SAAS,EAAE,QAAQ,EAAE;YACvL,OAAO,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;gBAC/B,SAAS,EAAE,SAAS;gBACpB,QAAQ,EAAE,KAAK,CAAC,gBAAgB,CAAC,QAAQ,CAAC;aAC7C,CAAC,CAAC;SACN,EAAE,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;KAC5B,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,CAAC,aAAa,CAAC,CAAC,CAAC;AAClB,AACA;;;;AAIA,IAAI,UAAU,IAAI,YAAY;IAC1B,SAAS,UAAU,GAAG;KACrB;IACD,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,gBAAgB,IAAI,YAAY;IAChC,SAAS,gBAAgB,CAAC,EAAE,EAAE,GAAG,EAAE;QAC/B,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;KAClB;IACD,gBAAgB,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,IAAI,EAAE;QAC7C,OAAO,IAAI,mBAAmB,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;KACrE,CAAC;IACF,OAAO,gBAAgB,CAAC;CAC3B,EAAE,CAAC,CAAC;AACL,AACA;;;;;;AAMA,gBAAgB,CAAC,WAAW,GAAGC,iBAAQ,CAAC,WAAW,CAAC,AACpD;;ACzQA,IAAIP,WAAS,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AACA,AACA,AACA,IAAI,UAAU,IAAI,YAAY;IAC1B,SAAS,UAAU,CAAC,YAAY,EAAE;QAC9B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,YAAY,EAAE;YACf,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;gBAC7B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;aAC5D;SACJ;KACJ;IACD,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,QAAQ,EAAE,MAAM,EAAE;QACpD,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;SACnD;QACD,OAAO,QAAQ,CAAC;KACnB,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,EAAE,EAAE;QAC/C,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;SACpC;QACD,OAAO,EAAE,EAAE,CAAC;KACf,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,EAAE,EAAE;QAC/C,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,mCAAmC,CAAC,CAAC;SAC1E;QACD,OAAO,EAAE,CAAC;KACb,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,cAAc,EAAE;QACzD,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAC7B,OAAOO,uCAAW,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC;SAC1D;QACD,OAAO,IAAIJ,0BAAU,CAAC,UAAU,UAAU,EAAE;YACxC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;gBACvE,IAAI,GAAG,EAAE;oBACL,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;iBACzB;qBACI;oBACD,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACrB,UAAU,CAAC,QAAQ,EAAE,CAAC;iBACzB;aACJ,EAAE,EAAE,EAAE,UAAU,IAAI,EAAE;gBACnB,IAAI,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;gBAClD,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aACtE,EAAE,UAAU,IAAI,EAAE,GAAG,CAAC,CAAC;SAC3B,CAAC,CAAC;KACN,CAAC;IACF,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,SAAS,EAAE;QACzD,IAAI,GAAG,GAAG,IAAIA,0BAAU,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC;QACxD,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAC7B,OAAO,GAAG,CAAC;SACd;QACD,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,iBAAiB,EAAE,CAAC,CAAC;KAC5C,CAAC;IACF,OAAO,UAAU,CAAC;CACrB,EAAE,CAAC,CAAC;AACL,AACA,IAAI,iBAAiB,IAAI,YAAY;IACjC,SAAS,iBAAiB,GAAG;KAC5B;IACD,iBAAiB,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,UAAU,EAAE,MAAM,EAAE;QAC7D,OAAO,MAAM,CAAC,SAAS,CAAC,IAAI,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;KAC9E,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B,EAAE,CAAC,CAAC;AACL,IAAI,mBAAmB,IAAI,UAAU,MAAM,EAAE;IACzCJ,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,CAAC,WAAW,EAAE,IAAI,EAAE;QAC5C,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,IAAI,IAAI,CAAC;QACnD,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,8BAA8B,EAAE,UAAU,GAAG,EAAE,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,YAAY,GAAG,EAAE,YAAY,GAAG,CAAC,CAAC;QAC5K,KAAK,CAAC,GAAG,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;QACzE,OAAO,KAAK,CAAC;KAChB;IACD,mBAAmB,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;QACnD,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;KACrD,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE;QAClD,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,+BAA+B,EAAE,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC;KAC1G,CAAC;IACF,mBAAmB,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;QAClD,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,kCAAkC,EAAE,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;KAC3G,CAAC;IACF,OAAO,mBAAmB,CAAC;CAC9B,CAACS,0BAAU,CAAC,CAAC,CAAC,AACf;;ACjGA,IAAI,SAAS,GAAG,CAAC,CAAC;AAClB,IAAI,WAAW,IAAI,YAAY;IAC3B,SAAS,WAAW,CAAC,MAAM,EAAE,EAAE,EAAE;QAC7B,IAAI,YAAY,GAAG,CAAC,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,YAAY,CAAC;QAC1D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,IAAI,MAAM,GAAG,SAAS,EAAE,CAAC;QAClD,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,YAAY,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY;YACvD,OAAOC,sBAAsB,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;SAC9D,CAAC,CAAC;KACN;IACD,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;QACvC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;KACxF,CAAC;;;;IAIF,WAAW,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;QACrC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,IAAI,CAAC,KAAK;gBACN,IAAI,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;SAC7G;QACD,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB,CAAC;;;;;;;IAOF,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,IAAI,CAAC,SAAS;gBACV,IAAI,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;SACrH;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB,CAAC;IACF,OAAO,WAAW,CAAC;CACtB,EAAE,CAAC,CAAC,AACL,AAAuB,AACvB;;AC/CA,IAAIV,WAAS,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAC,SAAS,KAAK,CAAC,YAAY;IACrD,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;SACpC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;QACnB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;KACxF,CAAC;CACL,GAAG,CAAC;AACL,AACA,IAAI,kBAAkB,IAAI,UAAU,MAAM,EAAE;IACxCD,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,OAAO,kBAAkB,CAAC;CAC7B,CAACW,aAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;AAC5B,AACA,IAAI,oBAAoB,IAAI,UAAU,MAAM,EAAE;IAC1CX,WAAS,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;IACxC,SAAS,oBAAoB,GAAG;QAC5B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,OAAO,oBAAoB,CAAC;CAC/B,CAACW,aAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;AAC9B,AACA,IAAI,kBAAkB,IAAI,UAAU,MAAM,EAAE;IACxCX,WAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IACtC,SAAS,kBAAkB,GAAG;QAC1B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,OAAO,kBAAkB,CAAC;CAC7B,CAACW,aAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;AAC5B,AACA,IAAI,iBAAiB,IAAI,UAAU,MAAM,EAAE;IACvCX,WAAS,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;IACrC,SAAS,iBAAiB,GAAG;QACzB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,OAAO,iBAAiB,CAAC;CAC5B,CAACW,aAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;AAC3B,AACA,IAAI,mBAAmB,IAAI,UAAU,MAAM,EAAE;IACzCX,WAAS,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACvC,SAAS,mBAAmB,GAAG;QAC3B,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;KACnE;IACD,OAAO,mBAAmB,CAAC;CAC9B,CAACW,aAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,AAC7B,AAA+B,AAC/B,;;;;;;;;;;;;;;;;;,;;,;;"}